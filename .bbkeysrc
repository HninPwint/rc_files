# ~/.bbkeysrc

# NOTES:

# During recent use in Fluxbox, it has been common to experience:
# - Mod1 = Alt key, Mod2 = Win key
# - bbkeys sometimes segfaults on Win-Tab!
# - Sometimes after switching desktop, we were left with Fluxbox's window-cycler, not bbkeys.  One time using Win-Tab brought it back.

# Currently the window-cycler (tab-switching):
# - Does not respect fluxbox tab groupings.
# - Does not cycle through minimised windows.
# - Focuses the window immediately, but only raises it after a short delay.  (I think Fluxbox may be doing the raising.)
# - Does not un-raise windows which were temporarily raised during the cycle.  (See above.)
# - Does not engage if you Ctrl+Alt+Right to change desktop then Alt-Tab but never released Alt!  In this case, Fluxbox cycler engages.

# Switching desktops:
# - If you switch right then down rapidly, you will end up being transported down only!  But slowly it works fine.

[begin]

 [config]
  [option] (autoConfig)             {true}
  [option] (autoConfigCheckTimeout) {4}
  [option] (stylefile)              {/home/joey/linux/.fluxbox/styles/OrangeJuice}
  [option] (honorModifiers)         {false}
  [option] (raiseWhileCycling)      {false}
  [option] (showCycleMenu)          {false}
  [option] (menuTitleJustify)       {center}
  [option] (menuTextJustify)        {left}
  [option] (cycleMenuX)             {480}
  [option] (cycleMenuY)             {320}
  [option] (workspaceColumns)       {3}
  [option] (workspaceRows)          {4}
 [end]

 [keybindings] (begin keybindings)
  ## These are examples copied from the man page:
  [chain] (Control-Mod1-W)
    [sendToWorkspace] (1) {1}
    [sendToWorkspace] (2) {2}
    [sendToWorkspace] (3) {3}
    [sendToWorkspace] (4) {4}
    [sendToWorkspace] (5) {5}
    [sendToWorkspace] (6) {6}
    [sendToWorkspace] (7) {7}
    [sendToWorkspace] (8) {8}
  [end]
  [chain] (Mod1-Y)
    [execute] (1) {xmms}
    [execute] (2) {aumix -v +5}
    [execute] (3) {aumix -v -5}
  [end]
  [Lower]                      (Mod1-Down)
  [Raise]                      (Mod1-Up)
  # [toggleShade]                (Mod1-F9)
  [Close]                      (Mod1-F4)
  [Iconify]                    (Mod1-i)
  [toggleMaximizeFull]         (Mod1-F12)
  [toggleMaximizeHorizontal]   (Mod1-F11)
  [toggleMaximizeVertical]     (Mod1-F10)
  [toggleOmnipresent]          (Mod1-Control-S)
  [resizeWindowWidth]          (Mod1-Control-Shift-Left)   {-5}
  [resizeWindowWidth]          (Mod1-Control-Shift-Right)  {5}
  [resizeWindowHeight]         (Mod1-Control-Shift-Up)     {-5}
  [resizeWindowHeight]         (Mod1-Control-Shift-Down)   {5}
  [moveWindowUp]               (Mod1-Control-K)            {1}
  [moveWindowDown]             (Mod1-Control-J)            {1}
  [moveWindowLeft]             (Mod1-Control-H)            {1}
  [moveWindowRight]            (Mod1-Control-L)            {1}
  [changeWorkspace]            (Mod1-1)                    {1}
  [changeWorkspace]            (Mod1-2)                    {2}
  [changeWorkspace]            (Mod1-3)                    {3}
  [changeWorkspace]            (Mod1-4)                    {4}
  [changeWorkspace]            (Mod1-5)                    {5}
  [changeWorkspace]            (Mod1-6)                    {6}
  [changeWorkspace]            (Mod1-7)                    {7}
  [changeWorkspace]            (Mod1-8)                    {8}
  ## Use these if you want bbkeys' dropdown menu.
  [NextWindow]                 (Mod1-Tab)
  [PrevWindow]                 (Mod1-grave)
  [PrevWindow]                 (Mod1-Shift-Tab)
  [NextWindowOnAllWorkspaces]  (Mod4-Tab)
  [PrevWindowOnAllWorkspaces]  (Mod4-grave)
  [PrevWindowOnAllWorkspaces]  (Mod4-Shift-Tab)

  ## These were added by joey:

  ## Disabled after interfering with Fluxbox (sporadically)
  # [upWorkspace]                (Mod1-Control-Up)
  # [downWorkspace]              (Mod1-Control-Down)
  # [leftWorkspace]              (Mod1-Control-Left)
  # [rightWorkspace]             (Mod1-Control-Right)
  ## Or:
  # [nextWorkspace]              (Mod1-Control-Left)
  # [prevWorkspace]              (Mod1-Control-Right)

  [toggleOmnipresent]          (Mod1-S)
  [toggleShade]                (Mod1-D)
  [Lower]                      (Mod1-A)
  [Close]                      (Mod1-Q)
  [Iconify]                    (Mod1-I)
  [toggleMaximizeFull]         (Mod1-Z)
  [toggleMaximizeHorizontal]   (Mod1-H)
  [toggleMaximizeVertical]     (Mod1-V)
  [toggleDecorations]          (Mod1-F)

  [Execute]                    (Mod4-Q)                    {xkill}

  [showRootMenu]               (Mod1-Control-Escape)
  [Execute]                    (Mod1-F5)                   {xrefresh -solid darkorange}
  #[Execute]                    (Mod4-E)                    {kfmclient openProfile filemanagement}
  #[Execute]                    (F20)                       {kfmclient openProfile filemanagement}
  #[Execute]                    (Mod4-E)                    {nautilus /home/gideon}
  #[Execute]                    (F20)                       {nautilus /home/gideon}

  ### Joey's command binds follow:

  ### Wanted for Debian, or jsh prompt isn't loaded:
  # [Execute]  (Mod1-X) {/home/joey/j/jsh xterm -e /home/joey/j/jsh}
  ### Wanted for Gentoo, with above jsh loads the Debian prompt and keys are crapzored!
  # [Execute]  (Mod1-X) {xterm}
  [Execute]  (Mod1-X) {xtermbg}

  [Execute]  (Mod1-slash) {whatsplaying}

  [Execute]  (Mod1-KP_Divide) {volumedown 9}
  [Execute]  (Mod1-KP_Multiply) {volumeup 9}
  [Execute]  (Mod1-KP_Subtract) {volumedown 2}
  [Execute]  (Mod1-KP_Add) {volumeup 2}

  [Execute]  (Mod1-KP_7) {xmms -r}
  [Execute]  (Mod1-KP_9) {xmms -f}
  # [execute]  (Mod1-KP_9) {nextsong}
  [Execute]  (Mod1-KP_0) {xmms -u}
  [Execute]  (Mod1-KP_1) {xmms -p}
  [Execute]  (Mod1-KP_3) {xmms -s}
  [Execute]  (Mod1-KP_Delete) {xmms -s}

  ## Push windows to edges or corners of the screen
  [Execute]  (Mod4-KP_1) {wmctrl -r :ACTIVE: -e 1,8,692,572,292}
  # [Execute]  (Mod4-KP_2) {wmctrl -r :ACTIVE: -e 1,350,692,572,292}
  [Execute]  (Mod4-KP_2) {wmctrl -r :ACTIVE: -e 1,250,692,772,292}
  [Execute]  (Mod4-KP_3) {wmctrl -r :ACTIVE: -e 1,700,692,572,292}
  [Execute]  (Mod4-KP_4) {wmctrl -r :ACTIVE: -e 1,8,190,618,650}
  [Execute]  (Mod4-KP_5) {wmctrl -r :ACTIVE: -e 1,128,112,1024,768}
  [Execute]  (Mod4-KP_6) {wmctrl -r :ACTIVE: -e 1,652,190,618,650}
  [Execute]  (Mod4-KP_7) {wmctrl -r :ACTIVE: -e 1,8,8,800,600}
  [Execute]  (Mod4-KP_8) {wmctrl -r :ACTIVE: -e 1,128,8,1024,768}
  [Execute]  (Mod4-KP_9) {wmctrl -r :ACTIVE: -e 1,242,8,1024,768}

  ## Untested:
  [Execute]  (Mod1-minus) {volumedown}
  [Execute]  (Mod1-equal) {volumeup}
  [Execute]  (Mod1-slash) {whatsplaying}

 [end]

[end]

## My old file looked like this
## Were these fbkeys maybe?
# Not in wmaker :-(
#KeyToGrab(J), WithModifier(Mod4), WithAction(BigNudgeDown)
#KeyToGrab(K), WithModifier(Mod4), WithAction(Maximise)
#
#KeyToGrab(F2), WithModifier(Mod1), WithAction(ExecCommand), DoThis(runacommand)
#KeyToGrab(F2), WithModifier(Mod4), WithAction(ExecCommand), DoThis(runacommand)
#
#KeyToGrab(P), WithModifier(Mod1), WithAction(ExecCommand), DoThis(import -window root /tmp/screenshot-$$.bmp)
#KeyToGrab(P), WithModifier(Mod4), WithAction(ExecCommand), DoThis(import -window root /tmp/screenshot-$$.bmp)
#KeyToGrab(PrintScreen), WithModifier(Mod1), WithAction(ExecCommand), DoThis(import -window root /tmp/screenshot-$$.bmp)
#KeyToGrab(PrintScreen), WithModifier(Mod4), WithAction(ExecCommand), DoThis(import -window root /tmp/screenshot-$$.bmp)

